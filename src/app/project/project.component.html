<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
<!---
<div class="container" style="height:950px;width:1350px;">
  <div class="panel-group" style="margin-top:10px; background: #f5f5f5;">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <span>User Management</span>
      </div>
      --->
<kendo-grid [data]="gridData | async"
            [height]="600"
            [pageSize]="gridState.take" [skip]="gridState.skip" [sort]="gridState.sort"
            [pageable]="true" [sortable]="true"
            (edit)="editHandler($event)"
            (cancel)="cancelHandler($event)"
            (save)="saveHandler($event)"
            (remove)="removeHandler($event)"
            (add)="addHandler($event)"
            [navigable]="true"
>
  <ng-template kendoGridToolbarTemplate>
    <button type="button" kendoGridAddCommand class="btn btn-primary"> <span class="fa fa-pencil"></span> Add</button>
  </ng-template>

  <kendo-grid-command-column title="Action" width="230" [locked]="true">
    <ng-template kendoGridCellTemplate let-isNew="isNew">
      <button kendoGridEditCommand class="btn btn-primary"><span class="fa fa-pencil"></span> Edit</button>&nbsp;
      <button kendoGridRemoveCommand type="button" class="btn btn-secondary"><span class="fa fa-trash"></span> Remove</button>
      <button kendoGridSaveCommand  class="btn btn-success" [disabled]="formGroup?.invalid">{{ isNew ? 'Add' : 'Update' }}</button>&nbsp;
      <button kendoGridCancelCommand class="btn btn-secondary">{{ isNew ? 'Discard changes' : 'Cancel' }}</button>
    </ng-template>
  </kendo-grid-command-column>

  <kendo-grid-column field="projectDesc" title="Project Name" width="500">
    <ng-template kendoGridEditTemplate let-column="column" let-formGroup="formGroup" let-isNew="isNew">
      <input #input class="k-textbox" [formControl]="formGroup.get(column.field)">
      <kendo-popup
        [anchor]="input"
        *ngIf="formGroup.get(column.field).invalid && !(isNew && formGroup.get(column.field).untouched)"
        popupClass="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
      >
        <span class="k-icon k-i-warning"></span>
        Project Description  is required
      </kendo-popup>
    </ng-template>
  </kendo-grid-column>


  <kendo-grid-column field="projectAbbr" title="Project Abbrevation" width="150">
    <ng-template kendoGridEditTemplate let-column="column" let-formGroup="formGroup" let-isNew="isNew">
      <input #input class="k-textbox" [formControl]="formGroup.get(column.field)">
      <kendo-popup
        [anchor]="input"
        *ngIf="formGroup.get(column.field).invalid && !(isNew && formGroup.get(column.field).untouched)"
        popupClass="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
      >
        <span class="k-icon k-i-warning"></span>
        Project Abbrevation is required
      </kendo-popup>
    </ng-template>
  </kendo-grid-column>

  <kendo-grid-column field="purchaseOrder" title="Purchase Order" width="350">
    <ng-template kendoGridEditTemplate let-column="column" let-formGroup="formGroup" let-isNew="isNew">
      <input #input class="k-textbox" [formControl]="formGroup.get(column.field)">
      <kendo-popup
        [anchor]="input"
        *ngIf="formGroup.get(column.field).invalid && !(isNew && formGroup.get(column.field).untouched)"
        popupClass="k-widget k-tooltip k-tooltip-validation k-invalid-msg"
      >
        <span class="k-icon k-i-warning"></span>
        Purchase Order is required
      </kendo-popup>
    </ng-template>
  </kendo-grid-column>
</kendo-grid>

</body>
</html>
